<?php
$id = isset($_GET['id']) ? $_GET['id'] : 'CCTV1';
$n = [
    'CCTV1' => 'mgsp-tx.live.miguvideo.com/wd_r2/cctv/cctv1hd/2500/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073730&ContentId=265183188&timezone=UTC&mtv_session=70e0f8e2241f03fbb284fe07471c1406&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=a8389d6ec822d0e298d3b92aa95fa266',
    'CCTV2' => 'mgsp-tx.live.miguvideo.com/wd_r2/cctv/cctv2hd/3000/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073731&ContentId=265667329&timezone=UTC&mtv_session=0652a49abec4c860e1b09ad88db72dc8&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=3816442679b4c149e40771e4b7b870cb',
    'CCTV3' => 'mgsp-tx.live.miguvideo.com/wd_r2/ocn/cctv3hd/3000/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073731&ContentId=265667206&timezone=UTC&mtv_session=930288b6183258a028c1df87d499752c&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=4fe4ab3b93d2b7f4fe74cdc14f0914bb',
    'CCTV4' => 'mgsp-tx.live.miguvideo.com/wd_r2/cctv/cctv4hd/3000/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073732&ContentId=265667639&timezone=UTC&mtv_session=bd66c8df11d2f77bee645f53f4ed7362&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=c2b1baee99eab7588b8ea53f584c3bb1',
    'CCTV4欧洲' => 'mgsp-tx.live.miguvideo.com/migu/kailu/20200324/cctv4ouhd/57/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073732&ContentId=265667313&timezone=UTC&mtv_session=12bc39164397f10e5223af167f7534a1&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=9d84e48895c7676c2037280dd67a8351',
    'CCTV4美洲' => 'mgsp-tx.live.miguvideo.com/migu/kailu/20200324/cctv4meihd/57/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073732&ContentId=265667335&timezone=UTC&mtv_session=361466f23b240ef7fb33d32f582f16e5&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=0ecf0c5bd1bb66dff4d24e873e5c63ef',
    'CCTV5' => 'mgsp-tx.live.miguvideo.com/wd_r2/cctv/cctv5hdnew/2500/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073732&ContentId=265667565&timezone=UTC&mtv_session=9723de29a88e2be1095d8c6d5a75dee9&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=12723843ed39c650d67a569eb896dd81',
    'CCTV5p' => 'mgsp-tx.live.miguvideo.com/wd_r2/cctv/cctv5plusnew/2500/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073733&ContentId=265106763&timezone=UTC&mtv_session=1f5bd52f67ecd434a6cf3bd7ebc51a71&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=08375028c68909716c1218fc91018199',
    'CCTV6' => 'mgsp-tx.live.miguvideo.com/wd_r2/ocn/cctv6hd/3000/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073734&ContentId=265667482&timezone=UTC&mtv_session=f70082b1ade8cb422547681dfcdad578&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=3197a71757b802dc65f32626eb2ec8dd',
    'CCTV7' => 'mgsp-tx.live.miguvideo.com/migu/kailu/20200324/cctv7hd/57/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073734&ContentId=265667268&timezone=UTC&mtv_session=dac68d68c1a7bfb5fce6e52fcae95b03&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=011fdc0d9d5b681821c2be70c08216b1',
    'CCTV8' => 'mgsp-tx.live.miguvideo.com/wd_r2/ocn/cctv8hd/3000/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073734&ContentId=265667466&timezone=UTC&mtv_session=f134ad943219a0326cf721cd778880da&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=d7e74f98dc5df6c18673696da1cb0fc7',
    'CCTV9' => 'mgsp-tx.live.miguvideo.com:8080/migu/kailu/20200324/cctv9hd/57/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073734&ContentId=265667202&timezone=UTC&mtv_session=3b457b5d48dfa5bec1b31c42bdc38890&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=4831b14f9cf512f5bf6964b103251dc9',
    'CCTV10' => 'mgsp-tx.live.miguvideo.com/wd_r2/ocn/cctv10hd/3000/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073735&ContentId=265667631&timezone=UTC&mtv_session=2b68379f8365805b0723de44fb722ac4&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=b8a484d39ecc065fa7a374c4a21467e9',
    'CCTV11' => 'mgsp-tx.live.miguvideo.com/migu/kailu/cctv11hd/57/20200103/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073735&ContentId=265667429&timezone=UTC&mtv_session=4b2a1a34470a2292a3b6b8defdd19dc8&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=f5c6b917bd6664cd3abf93c9a779b8bf',
    'CCTV12' => 'mgsp-tx.live.miguvideo.com/migu/kailu/20200324/cctv12hd/57/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073735&ContentId=265667607&timezone=UTC&mtv_session=04a047571867297b61308196c0b61be4&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=6f196fd01444dfaf9d9ea5d0cc8ecc01',
    'CCTV13' => 'mgsp-tx.live.miguvideo.com/migu/kailu/cctv13/57/20220913/01.m3u8?msisdn=a133c028b86e3008dd7556cd7f322490&mdspid=&spid=699004&netType=4&sid=2202208864&pid=2028597139&timestamp=20240420115743&Channel_ID=0116_0116_25000000-99000-100300010010001&ProgramID=608807423&ParentNodeID=-99&assertID=2202208864&client_ip=58.63.60.100&SecurityKey=20240420115743&promotionId=&mvid=2202208864&mcid=500020&playurlVersion=WX-A1-7.4.1-RELEASE&userid=1422306287&jmhm=a133c028b86e3008dd7556cd7f322490&videocodec=h264&encrypt=650f7f1f046bee1a39fce07c467ccf19',
    'CCTV14' => 'mgsp-tx.live.miguvideo.com/wd_r2/ocn/cctv14hd/3000/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073736&ContentId=265667325&timezone=UTC&mtv_session=d69ff4fc771dd3f04825ad6d23121aa0&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=e145be999fb1457e94c38e728570b97e',
    'CCTV15' => 'mgsp-tx.live.miguvideo.com/migu/kailu/20200324/cctv15hd/57/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073736&ContentId=265667535&timezone=UTC&mtv_session=5229243a54883745a550aaaa6f71126b&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=324a9a20d7e080d5c25a85803c60add8',
    'CCTV17' => 'mgsp-tx.live.miguvideo.com/migu/kailu/20200324/cctv17hd/57/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073737&ContentId=265667526&timezone=UTC&mtv_session=fce9a29d0fe15700731dd42b5514437c&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=38e21fbccbeb7ce8cdeaf7c394b87ce1',
    'CGTN' => 'mgsp-tx.live.miguvideo.com/envivo_x/2018/SD/cctvnews/1000/01.m3u8?msisdn=0692ad775c2c663da4212c4d586d3ae7&mdspid=&spid=699004&netType=0&sid=2202196407&pid=2028597139&timestamp=20240318163239&Channel_ID=0131_201600010010024&ProgramID=609017205&ParentNodeID=-99&assertID=2202196407&client_ip=47.94.105.9&SecurityKey=20240318163239&promotionId=&mvid=2202196407&mcid=500020&playurlVersion=ZQ-A1-7.2.2-RELEASE&userid=&jmhm=&videocodec=h264&bean=mgsph5&mtv_session=bae5f8f16614d7cbc3b8ee87295b5691&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=094eb8786533e91bb4162513a0cf024a',
    'CGTN西班牙语' => 'mgsp-tx.live.miguvideo.com/envivo_v/2018/SD/cctv/xibanya/1000/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073737&ContentId=265218872&timezone=UTC&mtv_session=77cb0a926d2b93c105e811549cf499b3&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=03d4607d5c9bfb5d66f170535cb3fbba',
    'CGTN阿拉伯语' => 'mgsp-tx.live.miguvideo.com/envivo_v/SD/cctv/alabo/1000/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073737&ContentId=265219154&timezone=UTC&mtv_session=d15843f3acb2d100ab402ea7a89e39ca&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=440162df6b440ca2fd096a0c18261118',
    'CGTN法语' => 'mgsp-tx.live.miguvideo.com/envivo_v/2018/SD/cctv/fayu/1000/01.m3u8?msisdn=0692ad775c2c663da4212c4d586d3ae7&mdspid=&spid=699004&netType=0&sid=2200179324&pid=2028597139&timestamp=20240318164138&Channel_ID=0131_201600010010024&ProgramID=609006476&ParentNodeID=-99&assertID=2200179324&client_ip=47.94.105.9&SecurityKey=20240318164138&promotionId=&mvid=2200179324&mcid=500020&playurlVersion=ZQ-A1-7.2.2-RELEASE&userid=&jmhm=&videocodec=h264&bean=mgsph5&mtv_session=68d5a70635131012ec267fb7614b1c14&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=863b81373591a6f81a925395fc56c364',
    'CGTN俄语' => 'mgsp-tx.live.miguvideo.com/envivo_v/2018/SD/cctv/eyu/1000/01.m3u8?msisdn=0692ad775c2c663da4212c4d586d3ae7&mdspid=&spid=699004&netType=0&sid=2200179332&pid=2028597139&timestamp=20240318164335&Channel_ID=0131_201600010010024&ProgramID=609006446&ParentNodeID=-99&assertID=2200179332&client_ip=47.94.105.9&SecurityKey=20240318164335&promotionId=&mvid=2200179332&mcid=500020&playurlVersion=ZQ-A1-7.2.2-RELEASE&userid=&jmhm=&videocodec=h264&bean=mgsph5&mtv_session=4b12000aff7628eb0a494e4272fa4a5e&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=4527c42cb02c407c688793babfbc89bd',
    'CHC家庭影院' => 'mgsp-tx.live.miguvideo.com/wd_r3/cnr/chcjtyy/3000/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073737&ContentId=265667645&timezone=UTC&mtv_session=1e2626f9fa52e9ed0b3e629dab7d7ad3&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=950d3a482d21f43d77d58540bfd2cbad',
    'CHC动作电影' => 'mgsp-tx.live.miguvideo.com/wd_r1/2018/gesee/chcdzdy/600/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073737&ContentId=265667645&timezone=UTC&mtv_session=950d3a482d21f43d77d58540bfd2cbad&HlsSubType=1&HlsProfileId=1&nphaid=0&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=5e8e63c56706510b73aa693229b83d70',
    '东方卫视' => 'mgsp-tx.live.miguvideo.com/wd_r4/dfl/dongfangwshd/3000/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073738&ContentId=264104266&timezone=UTC&mtv_session=6b842c705e2cf7e9df14788ca8009ef5&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=36ed1abbb2ec038b2f2303e58aea07a1',
    '重庆卫视' => 'mgsp-tx.live.miguvideo.com/envivo_x/2018/SD/chongqing/1000/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073739&ContentId=531262033&timezone=UTC&mtv_session=90df447b59006f4434fec2d4695f28a7&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=8bbc2e41f5b3f80d0b069addb6f1df46',
    '吉林卫视' => 'mgsp-tx.live.miguvideo.com/envivo_v/2018/SD/jilin/1000/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073739&ContentId=531262154&timezone=UTC&mtv_session=a8fd605fabf2ca0814b5a56aee04bc2d&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=ec7257d80b3cd8e4a5590413a5e9cb93',
    '辽宁卫视' => 'mgsp-tx.live.miguvideo.com/wd_r2/ocn/liaoningwshd/3000/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073739&ContentId=265669068&timezone=UTC&mtv_session=4adbe497fcc87ddaaa343726a3a14c13&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=b336009b46cc80be11d75c763cb6fe70',
    '内蒙古卫视' => 'mgsp-tx.live.miguvideo.com/envivo_w/2018/SD/neimeng/1000/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073739&ContentId=531261982&timezone=UTC&mtv_session=c9a5a27753539fa99cff7fe7b0773863&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=f9d2e1fadbae161e8f9ee1c06f4b85df',
    '宁夏卫视' => 'mgsp-tx.live.miguvideo.com/envivo_x/2018/SD/ningxia/1000/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073740&ContentId=531261057&timezone=UTC&mtv_session=83a38128827a852ce1724296852f857e&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=17f4b89974b2ed1e654453d44f9968b1',
    '甘肃卫视' => 'mgsp-tx.live.miguvideo.com/envivo_v/2018/SD/gansu/1000/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073740&ContentId=531261933&timezone=UTC&mtv_session=c42270b736c7f7ad784d63391d3520bc&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=9de29b7faceedf77d9b5796d2c8448a3',
    '青海卫视' => 'mgsp-tx.live.miguvideo.com/envivo_w/2018/SD/qinghai/1000/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073740&ContentId=531262027&timezone=UTC&mtv_session=449a36454b820ab73b61a8a33ccf5337&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=aad202f94476c188a79dcc8e1ec1d2b5',
    '山东卫视' => 'mgsp-tx.live.miguvideo.com/wd_r4/yg/shandongwshd/3000/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073741&ContentId=531261825&timezone=UTC&mtv_session=af16f8bbf042e18571b0c4dd8335d42c&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=fb1405a16fc8244a94df4ac18675a58f',
    '湖北卫视' => 'mgsp-tx.live.miguvideo.com/migu/kailu/hubeiwshd/57/20220712/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073741&ContentId=531261978&timezone=UTC&mtv_session=437fc6e8d29c853ca88935e2fd49acea&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=8d50581461bffa6a3d876b8cc8a1ebce',
    '湖南卫视' => 'mgsp-tx.live.miguvideo.com/wd-hunanhd-2500/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073741&ContentId=265667721&timezone=UTC&mtv_session=7b07894c57472651304a93669cf87e9b&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=617e25748c5f12b7864cc6fb758deaa7',
    '江西卫视' => 'mgsp-tx.live.miguvideo.com/migu/kailu/jxwshd/57/20190820/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073742&ContentId=531262091&timezone=UTC&mtv_session=de50cbe717aa7f99a96fffd956d81e51&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=f8930b959a901748e45e2615bac60f75',
    '江苏卫视' => 'mgsp-tx.live.miguvideo.com/wd_r2/cctv/jiangsuhd/2500/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073742&ContentId=264104188&timezone=UTC&mtv_session=6bc8392c0ce046c4a27b0d812696e9f8&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=a05b045f626d4764b5124f26a2f1d747',
    '广东卫视' => 'mgsp-tx.live.miguvideo.com/ws_w/gdws/gdws3000/3000/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073742&ContentId=263541274&timezone=UTC&mtv_session=d190c97b4980b8b8fc8fe749d33c4b53&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=d7d16b4dab836849b2d69de0c71c0881',
    '大湾区卫视' => 'mgsp-tx.live.miguvideo.com/wd_r3/2018/nfmedia/nfws/1000/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073743&ContentId=265218882&timezone=UTC&mtv_session=69490e0f5d2243e8aa4627ecf0058de1&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=095412c3a2f0236b02fe898002af482a',
    '新疆卫视' => 'mgsp-tx.live.miguvideo.com/wd-xinjiangwssd-600/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073743&ContentId=531262095&timezone=UTC&mtv_session=864a45b4901ac5ef45e66eda73f46964&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=2ecb1cbf330584c821ad5f41b74ff983',
    '西藏卫视' => 'mgsp-tx.live.miguvideo.com/envivo_x/2018/SD/xizang/1000/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073744&ContentId=524854265&timezone=UTC&mtv_session=5640f857e31349921ba36207946fa904&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=df71711e34a615ea23f680ef139afb1d',
    '海南卫视' => 'mgsp-tx.live.miguvideo.com/envivo_x/SD/lvyou/711/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073744&ContentId=531262161&timezone=UTC&mtv_session=b55d04e0b5c7e772923fd49422a408a4&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=97ea95aaf536edf9a57ca0219cadc011',
    '海峡卫视' => 'mgsp-tx.live.miguvideo.com/migu/kailu/haixiaws/57/20230724/01.m3u8?msisdn=6053e1c2b6745fbfc83e681aca840b32&mdspid=&spid=600648&netType=0&sid=5910021897&pid=2028597139&timestamp=20240330112325&Channel_ID=0132_10010001005&ProgramID=849119120&ParentNodeID=-99&assertID=5910021897&client_ip=47.94.105.9&SecurityKey=20240330112325&promotionId=&mvid=5900006231&mcid=500020&playurlVersion=WX-A1-7.3.2-RELEASE&userid=&jmhm=&videocodec=h264&bean=mgsph5&mtv_session=a88b42c22645e67dfb19b57050ad6424&sv=10000&ct=www&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=3116dc8d0a36601de154f5e242bc92d5',
    '劲爆体育' => 'mgsp-tx.live.miguvideo.com/migu/kailu/jinbaotyhd/57/20230411/01.m3u8?msisdn=60f768c1c5c3b5537282725c5c931239&mdspid=&spid=600633&netType=0&sid=5910021599&pid=2028597139&timestamp=20240330113118&Channel_ID=0132_10010001005&ProgramID=796071336&ParentNodeID=-99&assertID=5910021599&client_ip=47.94.105.9&SecurityKey=20240330113118&promotionId=&mvid=5900005805&mcid=500020&playurlVersion=WX-A1-7.3.2-RELEASE&userid=&jmhm=&videocodec=h264&bean=mgsph5&mtv_session=e8a1e0a3a9de8461b20dd59f198ce24b&sv=10000&ct=www&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=3bf03786a522b472f9232be0763d66ad',
    '四海钓鱼' => 'mgsp-tx.live.miguvideo.com/wd_r4/peoplecn/shdiaoyu/1200/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073744&ContentId=265667494&timezone=UTC&mtv_session=62fe26ea17a6225b620ad6528d069bad&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=1dd468b7cedccd815604e427c9d0d8f7',
    '江苏教育' => 'mgsp-tx.live.miguvideo.com/wd_r2/jstv/jsjiaoyu/600/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073744&ContentId=265219146&timezone=UTC&mtv_session=a16c1bfb5e088bbea01975f7a8082344&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=3b8baea037f0011e4d3ad9db8c91f5cf',
    '山东教育卫视' => 'mgsp-tx.live.miguvideo.com/envivo_v/2018/SD/shandongedu/1000/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073745&ContentId=265218942&timezone=UTC&mtv_session=5df7c38235f8bfddc40ba06656567aa2&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=29623301ce35130c865d7d28c7f3b0c3',
    '游戏风云HD' => 'mgsp-tx.live.miguvideo.com/wd_r2/ocn/youxifengyunhd/3000/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073745&ContentId=265667664&timezone=UTC&mtv_session=a0ecd5ce9d57ca6fe2f9a78dd80357fc&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=238d629872f240eaaeb4749a58e17d18',
    '天元围棋' => 'mgsp-tx.live.miguvideo.com/migu/kailu/shan3xiws/57/20220809/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073741&ContentId=531262099&timezone=UTC&mtv_session=3685f124271f5ee0b99269587b09cf4a&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=25d01304c5d1e6f70cc33073ccfdaf0f',
    '成龙作品集' => 'mgsp-tx.live.miguvideo.com/wd_r2/virtuallive/5102010211/150/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073747&ContentId=265667553&timezone=UTC&mtv_session=fd80809f3f6b51a68ca8e0d327a5244a&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=31de3cf7ce30887e13ddcfcdd39350a2',
    '掼蛋精英赛' => 'mgsp-tx.live.miguvideo.com/wd_r4/virtuallive/5101059662/150/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073748&ContentId=265667449&timezone=UTC&mtv_session=1f06490147bf0ef1556632d58c77b852&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=e65a6cf52d4e7b37e781fbab9d02aaac',
    '掼蛋精英赛2' => 'mgsp-tx.live.miguvideo.com/wd_r4/virtuallive/5101059662/75/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073748&ContentId=265667449&timezone=UTC&mtv_session=227603b28af017ac99593529975c4ea8&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=3fc8644a3708179d74852b84c7f3de83',
    '高清大片' => 'mgsp-tx.live.miguvideo.com/wd_r3/cctv/gaoqingdapian/600/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073748&ContentId=265218862&timezone=UTC&mtv_session=3a6b1c7737e83442360bc74c1db28160&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=6c0357e0703b1ce5780f688addd61842',
    '经典深圳旁边电影' => 'mgsp-tx.live.miguvideo.com/wd_r2/virtuallive/5100180869/150/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073749&ContentId=265219029&timezone=UTC&mtv_session=f358762bcdc0d98e6da17359ed6dc2d2&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=8daf635846c7955213792b55f33b0ed4',
    '军事迷必看大片' => 'mgsp-tx.live.miguvideo.com/wd-virtuallive5100002089-150/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073749&ContentId=265218878&timezone=UTC&mtv_session=0ef16dd36c78ec6087cfdd9240dda4be&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=59297ef87d5e48c3e92230975540fa04',
    '热剧联播' => 'mgsp-tx.live.miguvideo.com/wd_r3/cctv/rejulianbo/600/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073749&ContentId=265218955&timezone=UTC&mtv_session=d08622891788b7f58f17fe9ddfcf7760&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=13902f5ffd15ce35b793e964458bc0a7',
    '赛事最经典' => 'mgsp-tx.live.miguvideo.com/wd_r3/cctv/saishijingdian/600/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073750&ContentId=265218921&timezone=UTC&mtv_session=ad75dc89299f0a12c357e9f06e860e18&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=031c3d52bbccef1849631b126460966f',
    '体坛名栏汇' => 'mgsp-tx.live.miguvideo.com/wd_r3/cctv/titanminglan/600/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073750&ContentId=265218759&timezone=UTC&mtv_session=b2e617f735c59ee2def1e133e7a80a5c&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=0c1268f6846ee93a05130bcd7741b787',
    '新片放映厅' => 'mgsp-tx.live.miguvideo.com/wd-virtuallive5100030975-150/01.m3u8?msisdn=guest&Channel_ID=0119_04102000-99000_400300000040002&client_ip=139.198.127.250&timestamp=20230816073750&ContentId=265218930&timezone=UTC&mtv_session=63000e2fea84d8a6504746c34e7d4d75&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=b6ef40cfda8ddfec090a09afb9dd2444',
    'NBA经典' => 'mgsp-tx.live.miguvideo.com/migu/lunbo/nba/57/20230310/01.m3u8?msisdn=0692ad775c2c663da4212c4d586d3ae7&mdspid=&spid=800033&netType=0&sid=5910021528&pid=2028597139&timestamp=20240321130920&Channel_ID=0131_201600010010024&ProgramID=788815380&ParentNodeID=-99&assertID=5910021528&client_ip=47.94.105.9&SecurityKey=20240321130920&promotionId=&mvid=5900005736&mcid=500020&playurlVersion=WX-A1-7.3.1-RELEASE&userid=&jmhm=&videocodec=h264&bean=mgsph5&mtv_session=bd8a515a098817e90ea1c938bf5b4187&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=6d6842b4f498d332d99c42771817ade3',
    'CBA经典' => 'mgsp-tx.live.miguvideo.com/migu/lunbo/cba/57/20230310/01.m3u8?msisdn=0692ad775c2c663da4212c4d586d3ae7&mdspid=&spid=800033&netType=0&sid=5910021526&pid=2028597139&timestamp=20240321131503&Channel_ID=0131_201600010010024&ProgramID=788813182&ParentNodeID=-99&assertID=5910021526&client_ip=47.94.105.9&SecurityKey=20240321131503&promotionId=&mvid=5900005734&mcid=500020&playurlVersion=WX-A1-7.3.1-RELEASE&userid=&jmhm=&videocodec=h264&bean=mgsph5&mtv_session=f6d05116679f98638a8affa3c5899b82&HlsSubType=1&HlsProfileId=1&nphaid=0&encrypt=328fcd7a2d739007612440ee1d04eece',
    '咪咕24小时体育台' => 'mgsp-tx.live.miguvideo.com/wd_r2/virtuallive/tysy201903/50/01.m3u8?msisdn=7477ee55f2b94d6647ae828ef5a16d20&mdspid=&spid=800033&netType=7&sid=5500751211&pid=2028597139&timestamp=20240606200359&Channel_ID=0116_0116_25000000-99000-100300010010001&ProgramID=654102378&ParentNodeID=-99&assertID=5500751211&client_ip=47.94.105.9&SecurityKey=20240606200359&promotionId=&mvid=5102223687&mcid=500020&playurlVersion=WX-A1-7.5.3-RELEASE&userid=&jmhm=&videocodec=h264&encrypt=91bdb9542c5fc042bf7d3362b9d1b039&HlsSubType=1&nphaid=0&HlsProfileId=1&mtv_session=0c9e972aa996a7407f340fa2fc758fb8',
];
$file_contents = file('aikan.txt', FILE_IGNORE_NEW_LINES | FILE_SKIP_EMPTY_LINES);

// 初始化数组
$ipList = array();

// 将每一行的内容添加到数组中
foreach ($file_contents as $line) {
    $ipList[] = trim($line);
}
// print_r($ipList);
// $ip = $arr[array_rand($arr)];
$mh = curl_multi_init(); // Initialize multi cURL handler
$chArray = [];

foreach ($ipList as $ip) {
    $ch = curl_init();
    $m3u8 = "http://{$ip}/$n[$id].m3u8";
    // print_r($m3u8);
    curl_setopt($ch, CURLOPT_URL, $m3u8);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 1); // Increased timeout to 1 second
    curl_setopt($ch, CURLOPT_TIMEOUT, 1); // Increased timeout to 1 second
    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); // Disable SSL verification
    curl_setopt($ch, CURLOPT_USERAGENT, "user-agent:" . $_SERVER['HTTP_USER_AGENT']);
    curl_multi_add_handle($mh, $ch); // Add cURL handle to multi handler
    $chArray[] = $ch;
}

$running = null;
do {
    curl_multi_exec($mh, $running);
} while ($running > 0);

$fastestIP = "";
$fastestTime = PHP_INT_MAX;

foreach ($chArray as $ch) {
    $info = curl_getinfo($ch);
    if ($info['http_code'] == 200) {
        $time_end = microtime(true);
        $execution_time = $info['total_time'];
        if ($execution_time < $fastestTime) {
            $fastestIP = $info['url'];
            $fastestTime = $execution_time;
        }
    }
    curl_multi_remove_handle($mh, $ch); // Remove handle from multi handler
    curl_close($ch);
}

curl_multi_close($mh); // Close multi handler

if (!empty($fastestIP)) {
    header("Content-Type: application/vnd.apple.mpegURL");
    header('location:' . $fastestIP);
    exit;
} else {
    // Handle case where no valid IP is found
    echo "No valid IP found.";
    exit;
}
